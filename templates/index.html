<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Deep Research AI Agent (Python)</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Orbitron:wght@600;700;800&display=swap" rel="stylesheet" />

  <style>
    /* ===== Base & Background Photo ===== */
    body {
      font-family: 'Manrope', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background-color: #010b16;
      background-image: url('https://images.pexels.com/photos/37530/diver-underwater-ocean-deep-37530.jpeg?auto=compress&cs=tinysrgb&w=1920'); /* change to any Pexels deep sea URL */
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      position: relative;
      overflow-x: hidden;
      color: #e2e8f0;
    }

    /* ===== Blur/Darken overlay (on top of the photo) ===== */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      z-index: -2; /* below the 'ocean-rays' layer, above gradients/noise */
      backdrop-filter: blur(40px) brightness(0.55);
      -webkit-backdrop-filter: blur(40px) brightness(0.55);
    }

    /* ===== Moving blue glow gradients (deep sea ambience) ===== */
    body::after {
      content: "";
      position: fixed;
      inset: -10%;
      z-index: -3; /* behind blur overlay */
      background:
        radial-gradient(900px 600px at 30% 20%, rgba(56,189,248,0.15), transparent 60%),
        radial-gradient(800px 500px at 70% 80%, rgba(37,99,235,0.18), transparent 70%),
        radial-gradient(700px 700px at 90% 10%, rgba(99,102,241,0.15), transparent 60%);
      filter: blur(80px);
      animation: glowShift 30s ease-in-out infinite alternate;
    }
    @keyframes glowShift {
      0% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(2%, -2%) scale(1.05); }
      100% { transform: translate(-2%, 2%) scale(1); }
    }

    /* ===== Film grain texture (deep, cinematic feel) ===== */
    html::after {
      content: "";
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      z-index: -4; /* very back */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
      opacity: 0.05;
      animation: noiseShift 8s steps(10) infinite;
    }
    @keyframes noiseShift {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(5%, -5%); }
      50% { transform: translate(-5%, 5%); }
      75% { transform: translate(3%, -3%); }
    }

    /* ===== Underwater light beams ===== */
    .ocean-rays {
      position: fixed;
      inset: 0;
      z-index: -1;             /* on top of blur overlay, below page content */
      pointer-events: none;
      mix-blend-mode: screen;  /* additive glow */
      opacity: 0.08;           /* tweak 0.06â€“0.14 for stronger beams */
      background:
        /* Wide diagonal beam */
        linear-gradient(115deg, rgba(180,220,255,0.00) 0%, rgba(180,220,255,0.35) 35%, rgba(180,220,255,0.00) 70%)
        0 0 / 120% 120% no-repeat,
        /* Narrow inner beam */
        linear-gradient(115deg, rgba(120,180,255,0.00) 10%, rgba(120,180,255,0.30) 40%, rgba(120,180,255,0.00) 75%)
        0 0 / 120% 120% no-repeat;
      filter: blur(18px) saturate(110%);
      animation: raysFloat 22s ease-in-out infinite alternate;
    }
    @keyframes raysFloat {
      0%   { transform: translate3d(-2%, -1%, 0) rotate(-1.5deg) scale(1.02); }
      50%  { transform: translate3d( 2%,  1%, 0) rotate( 1.5deg) scale(1.06); }
      100% { transform: translate3d(-1%,  0%, 0) rotate(-0.5deg) scale(1.03); }
    }
    @media (prefers-reduced-motion: reduce) {
      .ocean-rays { animation: none; }
      body::after { animation: none; }
    }

    /* ===== Hide scrollbar ===== */
    ::-webkit-scrollbar { display: none; }
    html { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>

<body class="min-h-screen font-sans text-gray-900 dark:text-gray-200 transition-colors duration-300">

  <!-- Correct placement: the rays element lives in the BODY, not inside CSS -->
  <div class="ocean-rays" aria-hidden="true"></div>

  <div class="container mx-auto p-4 md:p-8">
    <header class="text-center mb-10 relative">
      <h1
        class="text-5xl md:text-6xl font-extrabold tracking-widest text-transparent bg-clip-text
               bg-gradient-to-r from-sky-400 via-blue-500 to-indigo-500"
        style="font-family: 'Orbitron', sans-serif;"
      >
        MARIANA AI
      </h1>
      <p class="text-gray-300 mt-4 text-lg leading-relaxed tracking-wide">
        Enter a topic and let AI generate a comprehensive report for you.
      </p>
    </header>

    <main
      id="research-form-container"
      class="max-w-3xl mx-auto bg-white/70 dark:bg-zinc-900/80 p-6 rounded-2xl shadow-2xl
             border border-gray-200/60 dark:border-zinc-800 backdrop-blur-md"
    >
      <div class="flex flex-col sm:flex-row gap-3">
        <input
          id="topic-input"
          type="text"
          placeholder="e.g., The future of renewable energy"
          class="flex-grow p-3 bg-white/90 dark:bg-black/40 border border-gray-300/70 dark:border-zinc-700
                 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500
                 focus:outline-none text-black dark:text-white placeholder-gray-400 dark:placeholder-gray-500
                 transition-colors"
          aria-label="Research topic"
        />
        <button
          id="start-research-btn"
          class="bg-sky-600 text-white font-semibold px-5 py-3 rounded-xl
                 hover:bg-sky-700 active:scale-[0.98]
                 disabled:bg-gray-400 dark:disabled:bg-zinc-700 disabled:cursor-not-allowed
                 transition-all flex items-center justify-center gap-2
                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2
                 focus-visible:ring-sky-500 focus-visible:ring-offset-zinc-900"
          aria-live="polite"
        >
          <!-- Filled by script.js -->
        </button>
      </div>

      <p id="error-message" class="text-rose-400 mt-3 text-center"></p>

      <div class="mt-6 text-center">
        <p id="status-message" class="inline-flex items-center gap-2 text-gray-300 font-medium">
          <span class="inline-block h-2 w-2 rounded-full bg-sky-400/80 animate-pulse"></span>
          Ready to start your research.
        </p>
      </div>

      <div id="subtopic-list-container"></div>
    </main>

    <div id="report-container" class="max-w-3xl mx-auto mt-10" style="display:none;"></div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.js"></script>
  <script src="/static/script.js"></script>
</body>
</html>
